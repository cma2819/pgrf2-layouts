import{p as t,a,r as e,D as s,c as n,o,b as l,d as r,e as d,t as c,u as i,F as u,f as p,g as m,h as g,i as v}from"./vendor.167e4e48.js";import{_ as f,a as h,s as y}from"./index.b5377775.js";t("data-v-38687ee8");const x=d("span",{id:"presents"},"presents",-1),S={id:"now",class:"time"};a();const b={setup(t){const a=e(s.now()),p=n((()=>{const t=a.value;return t.second%2==0?t.toFormat("HH:mm"):t.toFormat("HH mm")})),m=e(""),g=e("");return o((()=>{setInterval((()=>{a.value=s.now()}),50),nodecg.Replicant("assets:logo").on("change",(t=>{var a;m.value=(null==(a=t[0])?void 0:a.url)||""})),nodecg.Replicant("assets:ome-logo").on("change",(t=>{var a;g.value=(null==(a=t[0])?void 0:a.url)||""}))})),(t,a)=>(l(),r(u,null,[d("img",{id:"logo-ome",src:g.value,alt:"OME"},null,8,["src"]),x,d("img",{id:"logo-pgrf",src:m.value,alt:"PGRF"},null,8,["src"]),d("div",S,c(i(p)),1)],64))},__scopeId:"data-v-38687ee8"};t("data-v-37b149d0");const R={id:"spotify"},N=d("div",{id:"hashtag-guide"},[m("hashtag: "),d("span",null,"#PGRF2")],-1);a();const I={setup(t){const a=p(),e=n((()=>a.state.spotify));return(t,a)=>(l(),r(u,null,[d("div",R,[d("span",null,"Now playing: "+c(i(e).title)+" / "+c(i(e).artist),1)]),N],64))},__scopeId:"data-v-37b149d0"};t("data-v-652ded40");const _={key:0,id:"up-next",class:"label"},w={key:1,class:"time"},D={class:"title"},j={class:"info"},A={class:"category"},F=d("span",{class:"label"},"Category: ",-1),M={class:"platform"},$=d("span",{class:"label"},"Platform: ",-1),H={class:"est"},P=d("span",{class:"label"},"EST: ",-1),k={class:"info"},O={class:"runner"},C=d("span",{class:"label"},"Runner: ",-1),E={class:"commentator"},T=d("span",{class:"label"},"Commentator: ",-1);a();const G={props:{run:Object,upNext:Boolean},setup:t=>(a,e)=>(l(),r("div",{class:["run",{"later-than-next":!t.upNext}]},[t.upNext?(l(),r("p",_,"UP NEXT:")):(l(),r("div",w,c(t.run.startsAtOnSchedule())+"~",1)),d("div",{class:["content-box",{next:t.upNext,"later-than-next":!t.upNext}]},[d("span",D,c(t.run.title),1),d("div",j,[d("div",A,[F,m(c(t.run.category),1)]),d("div",M,[$,m(c(t.run.platform),1)]),d("div",H,[P,m(c(t.run.est),1)])]),d("div",k,[d("div",O,[C,m(c(t.run.joinedRunnerNames()),1)]),d("div",E,[T,m(c(t.run.joinedCommentatorNames()),1)])])],2)],2)),__scopeId:"data-v-652ded40"};t("data-v-bffad1ea");const B={id:"schedule"};a();const U={setup(t){const a=p(),e=n((()=>a.getters.runsOnSchedule));return(t,a)=>(l(),r("div",B,[(l(!0),r(u,null,g(i(e),((t,a)=>(l(),r(G,{key:a,run:t,upNext:0===a},null,8,["run","upNext"])))),128))]))},__scopeId:"data-v-bffad1ea"},X={setup(t){const a=p();return o((()=>{const t=nodecg,e=nodecg;t.Replicant("runDataActiveRunSurrounding","nodecg-speedcontrol").on("change",(s=>{t.readReplicant("runDataArray","nodecg-speedcontrol",(t=>{const n=s.current,o=Math.max(t.findIndex((t=>t.id===n)),0);e.readReplicant("commentatorArray","speedcontrol-additions",(e=>{const s=t.slice(o,o+4).map((t=>{return{title:t.game||"",category:t.category||"",platform:t.system||"",startsAt:(a=new Date(t.scheduled),`${a.getFullYear()}/${(a.getMonth()+1).toString().padStart(2,"0")}/${a.getDate().toString().padStart(2,"0")} ${a.getHours().toString().padStart(2,"0")}:${a.getMinutes().toString().padStart(2,"0")}:${a.getSeconds().toString().padStart(2,"0")}`),est:t.estimate||"",runners:t.teams.flatMap((t=>t.players.map((t=>({id:t.externalID,name:t.name,accounts:{}}))))),commentators:e.filter((a=>a.assignedRunIdArray.includes(t.externalID))).map((t=>({name:t.name,accounts:t.social})))};var a}));a.dispatch("setRuns",s)}))}))}));nodecg.Replicant("spotifyPlayingTrack","nodecg-spotify-widget").on("change",(t=>{a.dispatch("setMusic",{title:(null==t?void 0:t.name)||"",artist:(null==t?void 0:t.artists.join(","))||""})}))})),()=>{}}};v({setup:t=>(t,a)=>(l(),r(u,null,[d(X),d(f,{animated:""}),d("header",null,[d(b)]),d("main",null,[d(U),d(h,{style:{width:"480px"}})]),d("footer",null,[d(I)])],64))}).use(y).mount("#root");
