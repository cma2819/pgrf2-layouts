import{p as t,a,r as e,D as s,c as n,o,b as l,d as r,e as c,t as d,u as i,F as u,f as p,g as m,h as g,i as v}from"./vendor.9cdb726b.js";import{_ as f,a as h,s as y}from"./index.679bbc18.js";t("data-v-38687ee8");const x=c("span",{id:"presents"},"presents",-1),b={id:"now",class:"time"};a();const S={setup(t){const a=e(s.now()),p=n((()=>{const t=a.value;return t.second%2==0?t.toFormat("HH:mm"):t.toFormat("HH mm")})),m=e(""),g=e("");return o((()=>{setInterval((()=>{a.value=s.now()}),50),nodecg.Replicant("assets:logo").on("change",(t=>{var a;m.value=(null==(a=t[0])?void 0:a.url)||""})),nodecg.Replicant("assets:ome-logo").on("change",(t=>{var a;g.value=(null==(a=t[0])?void 0:a.url)||""}))})),(t,a)=>(l(),r(u,null,[c("img",{id:"logo-ome",src:g.value,alt:"OME"},null,8,["src"]),x,c("img",{id:"logo-pgrf",src:m.value,alt:"PGRF"},null,8,["src"]),c("div",b,d(i(p)),1)],64))},__scopeId:"data-v-38687ee8"};t("data-v-37b149d0");const R={id:"spotify"},N=c("div",{id:"hashtag-guide"},[m("hashtag: "),c("span",null,"#PGRF2")],-1);a();const $={setup(t){const a=p(),e=n((()=>a.state.spotify));return(t,a)=>(l(),r(u,null,[c("div",R,[c("span",null,"Now playing: "+d(i(e).title)+" / "+d(i(e).artist),1)]),N],64))},__scopeId:"data-v-37b149d0"};t("data-v-652ded40");const I={key:0,id:"up-next",class:"label"},_={key:1,class:"time"},w={class:"title"},D={class:"info"},j={class:"category"},A=c("span",{class:"label"},"Category: ",-1),F={class:"platform"},M=c("span",{class:"label"},"Platform: ",-1),H={class:"est"},P=c("span",{class:"label"},"EST: ",-1),k={class:"info"},O={class:"runner"},C=c("span",{class:"label"},"Runner: ",-1),E={class:"commentator"},T=c("span",{class:"label"},"Commentator: ",-1);a();const G={props:{run:Object,upNext:Boolean},setup:t=>(a,e)=>(l(),r("div",{class:["run",{"later-than-next":!t.upNext}]},[t.upNext?(l(),r("p",I,"UP NEXT:")):(l(),r("div",_,d(t.run.startsAtOnSchedule())+"~",1)),c("div",{class:["content-box",{next:t.upNext,"later-than-next":!t.upNext}]},[c("span",w,d(t.run.title),1),c("div",D,[c("div",j,[A,m(d(t.run.category),1)]),c("div",F,[M,m(d(t.run.platform),1)]),c("div",H,[P,m(d(t.run.est),1)])]),c("div",k,[c("div",O,[C,m(d(t.run.joinedRunnerNames()),1)]),c("div",E,[T,m(d(t.run.joinedCommentatorNames()),1)])])],2)],2)),__scopeId:"data-v-652ded40"};t("data-v-bffad1ea");const B={id:"schedule"};a();const U={setup(t){const a=p(),e=n((()=>a.getters.runsOnSchedule));return(t,a)=>(l(),r("div",B,[(l(!0),r(u,null,g(i(e),((t,a)=>(l(),r(G,{key:a,run:t,upNext:0===a},null,8,["run","upNext"])))),128))]))},__scopeId:"data-v-bffad1ea"},X={setup(t){const a=p(),e=t=>{const a=`${t.getFullYear()}/${(t.getMonth()+1).toString().padStart(2,"0")}/${t.getDate().toString().padStart(2,"0")}`,e=`${t.getHours().toString().padStart(2,"0")}:${t.getMinutes().toString().padStart(2,"0")}:${t.getSeconds().toString().padStart(2,"0")}`;return console.log(`${a} ${e}`),`${a} ${e}`};return o((()=>{const t=nodecg,s=nodecg;t.Replicant("runDataActiveRunSurrounding","nodecg-speedcontrol").on("change",(n=>{t.readReplicant("runDataArray","nodecg-speedcontrol",(t=>{const o=n.current,l=Math.max(t.findIndex((t=>t.id===o)),0);s.readReplicant("commentatorArray","speedcontrol-additions",(s=>{const n=t.slice(l,l+4).map((t=>({title:t.game||"",category:t.category||"",platform:t.system||"",startsAt:e(new Date(t.scheduled)),est:t.estimate||"",runners:t.teams.flatMap((t=>t.players.map((t=>({id:t.externalID,name:t.name,accounts:{}}))))),commentators:s.filter((a=>a.assignedRunIdArray.includes(t.externalID))).map((t=>({name:t.name,accounts:t.social})))})));a.dispatch("setRuns",n)}))}))}));nodecg.Replicant("spotifyPlayingTrack","nodecg-spotify-widget").on("change",(t=>{a.dispatch("setMusic",{title:(null==t?void 0:t.name)||"",artist:(null==t?void 0:t.artists.join(","))||""})}))})),()=>{}}};v({setup:t=>(t,a)=>(l(),r(u,null,[c(X),c(f,{animated:""}),c("header",null,[c(S)]),c("main",null,[c(U),c(h,{style:{width:"480px"}})]),c("footer",null,[c($)])],64))}).use(y).mount("#root");
